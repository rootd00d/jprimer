#!/usr/bin/env perl

use strict;
use threads;

my @primes = qw/
8332616081753369251291054615529476298478903744734741412021477038397359611360701630108523255984156125695304182246819284464131497292895091021144829483747473
10677918586554456029015844298662244856577149639903484390289184105115727778353568024245036231187579743202296210680081839857305813312746591569958111013445529
8381336627695845512629567990105479036105806971359568958899902628258988561231462752141549929897817510728036343414588003422174109686479418888136625649669379
4490632946580335768302196900643491623721574564713278080516750526914862900906502215307959823381472883681134828190239993306322732106075764668941866098175091
13123229558863591746390652488087965638417510946871630161004259473898477255584259945505295066369309248257263311419764233057636157534344952575679333644385923
6
1
0
-1
/;

do {
    my @threads;
    push @threads, async {
        print "$_ > ...\n";
        print `curl --silent http://localhost:3000/primes/$_`, "\n";
    } for @primes;
    $_->join() for @threads;
} while(1)
__END__
